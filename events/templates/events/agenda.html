{% extends "base/layout.html" %}

{% load staticfiles %}

{% block head-extra %}
<link href="{% static 'events/css/custom.css' %}" rel="stylesheet" />
{% endblock head-extra %}

{% block main %}
<h1>Agenda</h1>
<p>Lista degli eventi</p>

{% if not list %}

<div class="panel">
    <p class="top-buffer">Nessun evento.</p>
</div>

{% else %}

<table class="table table-striped table-hover" id="table_events">
  <thead>
    <tr>
      <th class="fit-column">Data</th>
      <th class="fit-column">Orario</th>
      <th class="fit-column">Aula</th>
      <th>Attivit√†</th>
    </tr>
  </thead>
  <tbody>
  {% for e in list %}
      <tr>
        <td class="fit-column">{{ e.start|date:"d/m/Y" }}</td>
        <td class="fit-column">{{ e.start|date:"G:i" }} - {{ e.end|date:"G:i" }}</td>
        <td class="fit-column"><a href="{% url "rooms:details" e.room.pk %}">{{ e.room.get_full_name }}</a></td>
        <td><a href="{% url "activities:details" e.activity.pk %}">{{ e.get_full_title }}</a></td>
      </tr>
  {% endfor %}
  </tbody>
</table>

<div id="pagination" class="container-fluid">
    <ul class="pager">
        {% if list.has_previous %}
            <li class="previous">
                <a href="{% url 'events:agenda' list.previous_page_number %}"><span>&laquo; Precedenti</span></a>
            </li>
        {% else %}
            <li class="previous disabled"><span>&laquo; Precedenti</span></li>
        {% endif %}
            <li><span>Pagina {{ list.number }} di {{ list.paginator.num_pages }}</span></li>
        {% if list.has_next %}
            <li class="next">
                <a href="{% url 'events:agenda' list.next_page_number %}"><span>Successivi &raquo;</span></a>
            </li>
        {% else %}
            <li class="next disabled"><span>Successivi &raquo;</span></li>
        {% endif %}
    </ul>
</div>

{% endif %}

{% endblock main %}
